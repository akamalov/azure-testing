---
- name: Test azure_rm_storageblob
  hosts: localhost
  vars:
      debug_mode: yes
  tasks:
      - name: Remove log file
        file:
           name: azure_rm_storageblob.log
           state: absent

      - name: Create container
        azure_rm_storageblob:
            resource_group: chouse
            account_name: chouseblobs 
            container_name: my-blobs
            mode: create
            debug: yes
        register: create_facts
     
      - debug: var=create_facts
      
      - name: Update container set acl
        azure_rm_storageblob:
            resource_group: chouse
            account_name: chouseblobs 
            container_name: my-blobs
            x_ms_blob_public_access: container
            mode: update
            debug: yes
        register: update_facts    

      - debug: var=update_facts

